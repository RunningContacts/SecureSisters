**Snyk Malicious Package Finder**

**Description:**
Malicious package finder used Snyk CLI results to scan for malicious packages. It provides an extra layer of protection and helps ensure that your project is free from potential vulnerabilities.
This .yml file will parse through your snyk CLI output file (json)
Then review the results for where snyk has identified a Malicious Package.  
The results can be consumed by a flat file and break the build process. 


**Group Members** <br>
Anastasia Bertola <br>
Heather Mengarelli

**Prerequisites**
Snyk Auth Token
Snyk CLI Authenticated
Linux based OS 

**Getting Started**

**Setup**
**Create the Workflow File:**

Create a new file named .github/workflows/security.yml in the root directory of your Node.js repository.
Copy Workflow Contents:

Copy the contents of the provided workflow file, starting from the line # Example workflow for Node using Snyk, and paste it into the security.yml file you created.
Set up Snyk Token:

Make sure you have a Snyk account and obtain a Snyk token from your Snyk account settings.
In your GitHub repository, go to Settings > Secrets.
Create a new secret named SNYK_TOKEN and paste your Snyk token as the value.
Commit and Push Changes:

Commit the security.yml file to your repository.
Push the changes to your remote repository.
Trigger the Workflow:

Once the workflow file is in your repository and the changes are pushed, the workflow will automatically trigger on every push event.
Review the Workflow Results:

After the workflow completes, you can view the results in the Actions tab of your GitHub repository.
The workflow will check for vulnerabilities and potential malicious packages using Snyk CLI and display the results.
If any malicious vulnerabilities are found, the workflow will fail and display the details of the malicious packages.
That's it! The workflow is now set up to run on every push event and will help you identify security issues in your Node.js project using Snyk. If you encounter any issues or have questions, don't hesitate to reach out to us. Happy securing!

**Usage**
To use this workflow in your Node.js repository, follow these steps:

Copy the contents of the main.yml file to a new YAML file named .github/workflows/security.yml in your repository.

Ensure you have set up the required secrets, including SNYK_TOKEN, in your repository settings to enable secure access to Snyk.

Commit and push the changes to your repository.

**Features**
Integration with Snyk CLI to fetch and analyze security data.
Scan for malicious packages in your Open Sourceprojects.
Generate a detailed report of vulnerabilities found.
Easy-to-use and seamless integration with your existing development workflow.

**Workflow Deccription**
The workflow is triggered on every push to the repository. It runs a security job named security on an ubuntu-latest runner. The job consists of several steps to scan for vulnerabilities and identify malicious packages:

The workflow starts by checking out the repository code using the actions/checkout@master action.

Next, the Snyk CLI is used to check for vulnerabilities in the Node.js project. The snyk/actions/node@master action is utilized to perform this task. The scan continues even if errors are encountered using continue-on-error: true. The environment variable SNYK_TOKEN is set using a secret, allowing secure access to Snyk.

After the scan is completed, the workflow counts the number of resulting vulnerabilities, specifically those marked as malicious. The data is extracted from the results.json file generated by Snyk CLI. The count is stored in an environment variable VULNS using the jq command.

The workflow then outputs the results to a text file named malicious_vulnerabilities.txt. It extracts the details of vulnerabilities flagged as malicious from results.json using jq and writes them to the text file.

The workflow proceeds to print the contents of malicious_vulnerabilities.txt, displaying the details of any malicious vulnerabilities found.

Finally, the workflow checks the environment variable VULNS to see if any malicious vulnerabilities were detected. If VULNS is greater than 0, it fails the job using exit 1, indicating that malicious vulnerabilities were found.

**Disclaimer**
This is being made as part of the 2023 Summer Namedapolooza Event. Please visit the repository for more details!

We're excited to have you on board and thank you for using the Malicious Package Finder! 
Together, let's keep your OpenSource projects secure and free from vulnerabilities. Happy coding!

